# 일대일, 다대다

## 개념

다양한 관계들이 존재

DB속 데이터는 PK와 FK의 연결을 통해 다양한 관계를 가진다

이는 크게 1:N, 1:1, M:N 관계로 나뉘게 된다


## One to One(1:1)

일대일 관계란 ?

말 그대로 하나의 테이블이 다른 하나의 테이블과 일대일로만 매칭이 되는 것이다

예를 들어, 국가와 수도는 일대일 관계라고 한다.

한 국가에 여러 수도가 존재하지 않고, 거꾸로 한 수도 또한 여러 나라에 속하지 않는다.
이를 DB화 한다면, FK를 어느 테이블에 두어야 할까 ?

일반적으로 포함된 쪽 또는 덜 사용되는 쪽에 놓는게 좋다.

위 경우에는 capital 에 놓는것이 좋다

![image](https://github.com/rivkode/tech-for-developer/assets/109144975/61bdb966-d571-45a8-bd47-1b1725ec9f38)

## 다대다(M:N) 관계

다대다(Many to Many) 관계는 양방향에서 모두 다수로 연결될 수 있다. 쇼핑몰을 예로 들어보자.
고객은 다양한 상품을 주문할 수 있고, 상품 또한 다양한 고객으로부터 주문될 수 있다.

이를 DB화 하려면, 두 관계를 잇는 중간 테이블이 필요하다. 중간 테이블에는 양측을 잇기 위한 두 FK가 필요하다

![image](https://github.com/rivkode/tech-for-developer/assets/109144975/d7a3968d-5917-4d63-94f5-41700faabaa0)


## 인스타그램의 예

인스타그램 사용자(users)와 각 사용자별 설정(settings)값은 1:1관계이다. 각 설정값이 계정에 속하는 개념이므로, FK는
설정테이블에 두는 것이 좋다.

![image](https://github.com/rivkode/tech-for-developer/assets/109144975/087a6aed-fba1-466d-be18-15d29c77deac)


인스타그램 사용자(users)와 사진(photos)은 "사진게시"라는 동작을 통해 일대다 관계이지만, "좋아요 등록"동작을 통해서는 다대다 관계가 된다.

한 사용자는 다양한 사잔에 좋아요를 누를 수 있고, 거꾸로 하나의 사진은 다양한 유저들로부터 좋아요를 받을 수 있다.

![image](https://github.com/rivkode/tech-for-developer/assets/109144975/5f8c1d09-6b99-4406-89cc-494f20c80523)
